{"ast":null,"code":"var _s = $RefreshSig$();\nimport { collection, onSnapshot, query, where } from \"firebase/firestore\";\nimport React from \"react\";\nimport { db } from \"../Firebase/config\";\nexport const useFirestore = (collect, condition) => {\n  _s();\n  const [document, setDocument] = React.useState([]);\n  console.log({\n    collect,\n    condition\n  });\n  React.useEffect(() => {\n    const queryData = query(collection(db, collect), where(condition.field, condition.operator, condition.compareValue)).withConverter();\n    console.log(queryData);\n    const unsubscribe = onSnapshot(queryData, docsSnap => {\n      setDocument(docsSnap.docs.map(doc => ({\n        ...doc.data(),\n        id: doc.id\n      })));\n    });\n    return unsubscribe;\n  }, [collect, condition]);\n  return document;\n};\n_s(useFirestore, \"fVFrD9KWsGdNL+DW8cpIxyGqaOM=\");","map":{"version":3,"names":["collection","onSnapshot","query","where","React","db","useFirestore","collect","condition","document","setDocument","useState","console","log","useEffect","queryData","field","operator","compareValue","withConverter","unsubscribe","docsSnap","docs","map","doc","data","id"],"sources":["C:/Users/ADMIN/OneDrive/Máy tính/Backend/Auth/auth/src/hooks/useFirestore.js"],"sourcesContent":["import { collection, onSnapshot, query, where } from \"firebase/firestore\";\r\nimport React from \"react\";\r\nimport { db } from \"../Firebase/config\";\r\n\r\nexport const useFirestore = (collect, condition) => {\r\n  const [document, setDocument] = React.useState([]);\r\n  console.log({ collect, condition });\r\n  React.useEffect(() => {\r\n    const queryData = query(\r\n      collection(db, collect),\r\n      where(condition.field, condition.operator, condition.compareValue)\r\n    ).withConverter();\r\n    console.log(queryData);\r\n    const unsubscribe = onSnapshot(queryData, (docsSnap) => {\r\n      setDocument(\r\n        docsSnap.docs.map((doc) => ({\r\n          ...doc.data(),\r\n          id: doc.id,\r\n        }))\r\n      );\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [collect, condition]);\r\n  return document;\r\n};\r\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,UAAU,EAAEC,KAAK,EAAEC,KAAK,QAAQ,oBAAoB;AACzE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,EAAE,QAAQ,oBAAoB;AAEvC,OAAO,MAAMC,YAAY,GAAG,CAACC,OAAO,EAAEC,SAAS,KAAK;EAAA;EAClD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,KAAK,CAACO,QAAQ,CAAC,EAAE,CAAC;EAClDC,OAAO,CAACC,GAAG,CAAC;IAAEN,OAAO;IAAEC;EAAU,CAAC,CAAC;EACnCJ,KAAK,CAACU,SAAS,CAAC,MAAM;IACpB,MAAMC,SAAS,GAAGb,KAAK,CACrBF,UAAU,CAACK,EAAE,EAAEE,OAAO,CAAC,EACvBJ,KAAK,CAACK,SAAS,CAACQ,KAAK,EAAER,SAAS,CAACS,QAAQ,EAAET,SAAS,CAACU,YAAY,CAAC,CACnE,CAACC,aAAa,EAAE;IACjBP,OAAO,CAACC,GAAG,CAACE,SAAS,CAAC;IACtB,MAAMK,WAAW,GAAGnB,UAAU,CAACc,SAAS,EAAGM,QAAQ,IAAK;MACtDX,WAAW,CACTW,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAEC,GAAG,KAAM;QAC1B,GAAGA,GAAG,CAACC,IAAI,EAAE;QACbC,EAAE,EAAEF,GAAG,CAACE;MACV,CAAC,CAAC,CAAC,CACJ;IACH,CAAC,CAAC;IAEF,OAAON,WAAW;EACpB,CAAC,EAAE,CAACb,OAAO,EAAEC,SAAS,CAAC,CAAC;EACxB,OAAOC,QAAQ;AACjB,CAAC;AAAC,GArBWH,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}